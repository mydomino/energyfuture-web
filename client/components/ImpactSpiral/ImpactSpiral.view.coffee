React = require 'react'
{div, strong, svg, title, desc, defs, g, path} = React.DOM

NUMBER_OF_CIRCLES = 14

ImpactSpiral = React.createClass
  displayName: 'ImpactSpiral'
  getDefaultProps: ->
    width: 224
    percent: 60

  pointStyle: (point) ->
    value = parseInt(point / NUMBER_OF_CIRCLES * 100, 10)
    return 'svg-impact-spiral-point' if @props.percent == 0
    return 'svg-impact-spiral-point-goal' if @props.percent >= 100
    return 'svg-impact-spiral-point-complete' if @props.percent >= value
    return 'svg-impact-spiral-point'

  render: ->
    height = @props.width * 0.9725
    classes = React.addons.classSet
                'impact-spiral-container': true
                'impact-spiral-container-goal': @props.percent >= 100

    div {className: classes},
      svg {className: 'svg-impact-spiral', width: @props.width, height: height, viewBox: "0 0 #{@props.width} #{height}", version: "1.1", xmlns: "http://www.w3.org/2000/svg", xmlns:xlink: "http://www.w3.org/1999/xlink", xmlns:sketch: "http://www.bohemiancoding.com/sketch/ns"},
        title {}, 'Impact Spiral'
        g {},
          path {className: @pointStyle(14), d: "M160.67914,183.303159 C164.545072,175.928577 173.680291,173.083117 181.075219,176.94034 C188.470147,180.798215 191.326579,189.905384 187.450179,197.279966 C183.584901,204.64933 174.450991,207.4974 167.056717,203.636263 C159.663752,199.777735 156.810591,190.671218 160.67914,183.303159"}
          path {className: @pointStyle(13), d: "M185.777275,155.724635 C186.278427,147.880375 193.057711,141.922 200.923695,142.419727 C208.793604,142.918759 214.761625,149.684718 214.262436,157.528325 C213.763902,165.373237 206.984618,171.325742 199.115362,170.827362 C191.248724,170.329635 185.278087,163.567589 185.777275,155.724635"}
          path {className: @pointStyle(12), d: "M197.404513,120.00765 C194.822209,113.072737 198.367561,105.361553 205.324145,102.788766 C212.276149,100.212718 220.006705,103.752257 222.590317,110.683908 C225.171312,117.620125 221.626615,125.328048 214.671339,127.903443 C207.716718,130.474925 199.986162,126.941258 197.404513,120.00765"}
          path {className: @pointStyle(11), d: "M193.270994,82.3689033 C188.404722,77.4138101 188.492391,69.4619163 193.463997,64.6151098 C198.438219,59.7663463 206.412154,59.8511491 211.2745,64.8108086 C216.136847,69.770468 216.04787,77.7177956 211.078227,82.5632974 C206.105967,87.4159749 198.133341,87.3279104 193.270994,82.3689033"}
          path {className: @pointStyle(10), d: "M173.849086,49.4680241 C167.813024,47.0850652 164.859763,40.2754 167.252991,34.2544008 C169.648181,28.2360109 176.481767,25.2972675 182.51652,27.6828357 C188.548656,30.0677515 191.501262,36.8806784 189.107381,42.896459 C186.714154,48.9141965 179.882531,51.8548969 173.849086,49.4680241"}
          path {className: @pointStyle(9),  d: "M142.341315,27.2307715 C136.315721,27.4812659 131.232894,22.81385 130.983626,16.8098114 C130.735668,10.8025111 135.414826,5.73586964 141.439765,5.48863685 C147.46078,5.23814241 152.544261,9.90751534 152.793528,15.9122063 C153.042795,21.9162449 148.362329,26.986148 142.341315,27.2307715"}
          path {className: @pointStyle(8),  d: "M104.147162,19.7818235 C99.1618177,22.2456712 93.1172508,20.2143179 90.6455143,15.2416118 C88.174432,10.2715151 90.2150213,4.24529726 95.2023287,1.78079726 C100.185056,-0.681745739 106.229623,1.34960762 108.700706,6.31970434 C111.170479,11.293715 109.133816,17.3173236 104.147162,19.7818235"}
          path {className: @pointStyle(7),  d: "M65.9445051,28.6782902 C62.6916004,32.5974844 56.8688224,33.1428317 52.9394287,29.8961889 C49.0133061,26.6560694 48.4670118,20.8470772 51.7205708,16.9337539 C54.972167,13.0178213 60.7955992,12.4692124 64.7243387,15.7138982 C68.6511155,18.9592363 69.1967556,24.7623575 65.9445051,28.6782902"}
          path {className: @pointStyle(6),  d: "M34.5087008,52.6096419 C33.2617104,57.0637461 28.6290036,59.662626 24.1624749,58.4160247 C19.6972547,57.1713805 17.091398,52.5489752 18.3410054,48.0987849 C19.5912671,43.645333 24.2246282,41.0464532 28.6898483,42.2910974 C33.1524515,43.5370463 35.7589625,48.1561899 34.5087008,52.6096419"}
          path {className: @pointStyle(5),  d: "M15.5342956,87.5666629 C16.1440517,91.6848176 13.2876193,95.5113811 9.15998936,96.1180474 C5.02908823,96.7247136 1.19128874,93.876644 0.58480389,89.7597939 C-0.0223352047,85.6429439 2.83278873,81.8144234 6.96172712,81.2090618 C11.0887028,80.6056573 14.9251938,83.4511175 15.5342956,87.5666629"}
          path {className: @pointStyle(4),  d: "M12.5803807,127.522483 C14.5673219,130.646488 13.6369859,134.784213 10.5044622,136.764684 C7.37193856,138.745808 3.22075584,137.816239 1.23512314,134.689625 C-0.750509572,131.568229 0.180480657,127.432462 3.31300435,125.451338 C6.44618229,123.470866 10.5960565,124.397826 12.5803807,127.522483"}
          path {className: @pointStyle(3),  d: "M26.4261616,165.473043 C29.1288465,167.264339 29.8629091,170.90238 28.0650446,173.595847 C26.2658717,176.291924 22.6191116,177.022533 19.917081,175.227975 C17.214396,173.436027 16.481642,169.799943 18.2801607,167.103866 C20.0760624,164.411704 23.7247852,163.680442 26.4261616,165.473043"}
          path {className: @pointStyle(2),  d: "M54.8799185,194.653689 C57.6225123,195.116842 59.4687909,197.711156 59.0042772,200.44572 C58.5371464,203.181589 55.9378322,205.021158 53.1919671,204.556699 C50.451336,204.092241 48.6057117,201.49858 49.0715339,198.765972 C49.5347392,196.029451 52.1373246,194.190535 54.8799185,194.653689"}
          path {className: @pointStyle(1),  d: "M93.1264102,209.758373 C95.3717781,209.185628 97.6590176,210.534645 98.234753,212.775396 C98.8091798,215.013538 97.4555475,217.294081 95.2088712,217.86813 C92.9635033,218.441528 90.676918,217.091859 90.1011827,214.851108 C89.5261016,212.612966 90.8810424,210.33438 93.1264102,209.758373"}
          path {className: @pointStyle(0),  d: "M134.540101,207.893364 C135.993178,206.745264 138.103772,206.989888 139.257205,208.440668 C140.408676,209.890143 140.163334,211.994558 138.707639,213.143962 C137.255216,214.289452 135.142006,214.045481 133.990535,212.596658 C132.839064,211.147834 133.086369,209.041463 134.540101,207.893364"}
      div {className: 'impact-spiral-percent'},
        strong {}, "#{@props.percent}%"
        "Carbon-Free"

module.exports = React.createFactory ImpactSpiral
